<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>d-day 계산기</title>
    <script>
        //ex 
        let sample = new Date(2024, 0, 7);
        console.log(sample);
        console.log(sample.getTime())
        let now = new Date();
        console.log("밀리세컨드" +(now.getTime()-sample.getTime()));
        console.log("세컨드" +(now.getTime()-sample.getTime())/1000);
        console.log("분" +(now.getTime()-sample.getTime())/(1000*60));
        console.log("시간" +(now.getTime()-sample.getTime())/(1000*60*60));
        console.log("날짜" +(now.getTime()-sample.getTime())/(1000*60*60*24));

        let userDday = prompt("d-day를 입력하세요(형식은 YYYYMMDD)");
        //1. 문자열의 위치에 알맞게 잘라서 ->날짜 객체 생성
        let year = parseInt(userDday.substring(0,4));
        let month = parseInt(userDday.substring(4,6));
        let day = parseInt(userDday.substring(6,8));
        let inputDate = new Date(year, month -1, day);
        console.log(inputDate);

        //현재 날짜 가져오기
        let currentDate = new Date();
        //두 날짜 사이의 차이
        let diff = inputDate.getTime()-currentDate.getTime();
        //밀리초를 일 단위로 변환
        //코어 객체 Math <-- 수학관련 처러 메서드를 담고 있는 객체
        //ceil 올림, round 반올림, floor 내림,
        let result =Math.ceil( diff /(1000*60*60*24));
        console.log(result);
        document.write("입력하신" + year + "." + month + "." + day + 
                        "까지는" + result + "일 남았습니다.");

        //다음 달의 첫 날에서 하루를 빼면 이번달의 마지막 날을 가져올 수 있음.
        //1. 다음 날의 첫 날 구하기
        let nextMonth = new Date(now.getFullYear(), now.getMonth() + 1, 1);
        //2. 다음 달의 첫 날에서 하루를 빼서 이번 달 마지막 구하기
        console.log("nextMonth". nextMonth);
        nextMonth.setDate(nextMonth.getDate()-1);
        console.log("nextMonth-1:", nextMonth);
        //3. 마지막 날 날짜 객체와 현재 날짜 객체의 차이를 이용하여
        //   마지막 날까지 남은 날을 계산한다.
        let nowDate = new Date();
        let lastDay = Math.ceil ((nextMonth.getTime()-nowDate.getTime())/(1000*60*60*24));
        document.write("오늘부터 마지막 날까지는: " + lastDay + "일 남음" );

    </script>
</head>
<body>
    
</body>
</html>